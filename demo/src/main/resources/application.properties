# =========================================================
# APPLICATION CONFIGURATION
# =========================================================
spring.application.name=ChatDemo
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# =========================================================
# DATABASE CONFIGURATION (MongoDB)
# =========================================================
spring.data.mongodb.uri=mongodb://host.docker.internal:27017/chat
spring.data.mongodb.database=chat-app

# =========================================================
# SERVER CONFIGURATION
# =========================================================
server.port=8080
server.tomcat.max-swallow-size=100MB

# =========================================================
# WEBSOCKET CONFIGURATION
# =========================================================
spring.websocket.sockjs.heartbeat.time=25
spring.websocket.stomp.heartbeat.incoming=25
spring.websocket.stomp.heartbeat.outgoing=25

# =========================================================
# VIDEO CALL CONFIGURATION
# =========================================================
videocall.max-participants=8
videocall.call-timeout-minutes=60
videocall.enable-recording=false
videocall.stun-server=stun:stun.l.google.com:19302
# videocall.turn-servers=turn:your-turn-server:3478

# Buffer size per streaming
app.video.buffer-size=8192

# =========================================================
# FILE UPLOAD CONFIGURATION
# =========================================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.file-size-threshold=2KB
app.upload.dir=uploads
app.base-url=http://localhost:8080

# =========================================================
# CORS CONFIGURATION - RIMUOVI QUESTE LINEE CHE CAUSANO CONFLITTI
# =========================================================
# spring.web.cors.allowed-origins=*
# spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
# spring.web.cors.allowed-headers=*

# =========================================================
# SECURITY CONFIGURATION
# =========================================================
jwt.secret=miaChiaveSegretaMoltoPi√πSicura123!

# =========================================================
# DEVTOOLS CONFIGURATION
# =========================================================
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.remote.secret=mysecret

# =========================================================
# LOGGING CONFIGURATION
# =========================================================
logging.level.org.springframework.security=DEBUG
logging.level.com.chat.demo.controller.FileController=DEBUG
logging.level.com.chat.demo.data.service.FileService=DEBUG
logging.level.org.springframework.web.multipart=DEBUG
logging.level.org.springframework.messaging=DEBUG
logging.level.org.springframework.web.socket=DEBUG
logging.level.com.chat.demo=DEBUG
logging.level.org.springframework.web.cors=DEBUG

logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
# =========================================================
# JACKSON CONFIGURATION
# =========================================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Europe/Rome
